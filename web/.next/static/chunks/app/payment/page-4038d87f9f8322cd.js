(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{285:(e,s,r)=>{"use strict";r.d(s,{$:()=>c,r:()=>n});var a=r(5155);r(2115);var t=r(9708),i=r(2085),l=r(9434);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:r,size:i,asChild:c=!1,...d}=e,o=c?t.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,l.cn)(n({variant:r,size:i,className:s})),...d})}},6695:(e,s,r)=>{"use strict";r.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>i,aR:()=>l});var a=r(5155);r(2115);var t=r(9434);function i(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function l(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function n(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",s),...r})}function c(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",s),...r})}function d(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",s),...r})}},8692:(e,s,r)=>{"use strict";r.d(s,{default:()=>A});var a=r(5155),t=r(2115),i=r(5695),l=r(285),n=r(6695),c=r(2523),d=r(5057),o=r(9409),x=r(6981),h=r(5196),m=r(9434);let u=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(x.bL,{ref:s,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:(0,a.jsx)(x.C1,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})})});u.displayName=x.bL.displayName;var v=r(646),j=r(7550),p=r(1586),g=r(2919),y=r(1007),b=r(5525),f=r(6671),N=r(5494),w=r(6874),C=r.n(w);function A(){let e=(0,i.useSearchParams)(),[s,r]=(0,t.useState)(!1),[x,h]=(0,t.useState)(!1),[m,w]=(0,t.useState)(null),[A,S]=(0,t.useState)({cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",cvv:"",billingAddress:"",city:"",state:"",zipCode:"",country:"US",saveCard:!1,termsAccepted:!1});(0,t.useEffect)(()=>{let s=e.get("serviceId"),r=e.get("contractType"),a=e.get("totalAmount"),t=e.get("startDate"),i=e.get("startTime"),l=e.get("duration"),n=e.get("specialRequirements");s&&r&&a?w({serviceId:s,contractType:r,totalAmount:parseFloat(a),startDate:t||"",startTime:i||"",duration:l||"",specialRequirements:n||""}):f.o.error("Invalid payment data")},[e]);let k=async e=>{if(e.preventDefault(),!m)return void f.o.error("No contract data available");if(!A.termsAccepted)return void f.o.error("Please accept the terms and conditions");r(!0);try{await new Promise(e=>setTimeout(e,2e3)),h(!0),f.o.success("Payment successful! Your booking has been confirmed.")}catch(e){console.error("Payment error:",e),f.o.error("Payment failed. Please try again.")}finally{r(!1)}},P=e=>{let s=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),r=s.match(/\d{4,16}/g),a=r&&r[0]||"",t=[];for(let e=0,s=a.length;e<s;e+=4)t.push(a.substring(e,e+4));return t.length?t.join(" "):s},F=e=>{switch(e){case"Hourly":return"Hourly Service";case"Weekly":return"Weekly Service";case"Monthly":return"Monthly Service";case"FixedPrice":return"Fixed Price Service";default:return e}};return x?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(N.A,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(v.A,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Your booking has been confirmed and payment processed."})]}),(0,a.jsx)(n.Zp,{className:"mb-6",children:(0,a.jsx)(n.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-3 text-left",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Service Type:"}),(0,a.jsx)("span",{className:"font-medium",children:F((null==m?void 0:m.contractType)||"")})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Start Date:"}),(0,a.jsx)("span",{className:"font-medium",children:null==m?void 0:m.startDate})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Start Time:"}),(0,a.jsx)("span",{className:"font-medium",children:null==m?void 0:m.startTime})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Total Amount:"}),(0,a.jsxs)("span",{className:"font-bold text-green-600",children:["$",null==m?void 0:m.totalAmount]})]})]})})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C(),{href:"/dashboard",children:(0,a.jsx)(l.$,{className:"w-full",children:"Go to Dashboard"})}),(0,a.jsx)(C(),{href:"/services",children:(0,a.jsx)(l.$,{variant:"outline",className:"w-full",children:"Browse More Services"})})]})]})})]}):m?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(N.A,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(C(),{href:"/services",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Back to Services"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Payment"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Secure payment for your service booking"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"Payment Information"]}),(0,a.jsx)(n.BT,{children:"Enter your payment details to complete the booking"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"cardNumber",children:"Card Number"}),(0,a.jsx)(c.p,{id:"cardNumber",type:"text",placeholder:"1234 5678 9012 3456",value:A.cardNumber,onChange:e=>S({...A,cardNumber:P(e.target.value)}),maxLength:19,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"cardHolderName",children:"Cardholder Name"}),(0,a.jsx)(c.p,{id:"cardHolderName",type:"text",placeholder:"John Doe",value:A.cardHolderName,onChange:e=>S({...A,cardHolderName:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"cvv",children:"CVV"}),(0,a.jsx)(c.p,{id:"cvv",type:"text",placeholder:"123",value:A.cvv,onChange:e=>S({...A,cvv:e.target.value.replace(/\D/g,"").slice(0,4)}),maxLength:4,required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"expiryMonth",children:"Expiry Month"}),(0,a.jsxs)(o.l6,{value:A.expiryMonth,onValueChange:e=>S({...A,expiryMonth:e}),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Month"})}),(0,a.jsx)(o.gC,{children:Array.from({length:12},(e,s)=>(0,a.jsx)(o.eb,{value:(s+1).toString().padStart(2,"0"),children:(s+1).toString().padStart(2,"0")},s+1))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"expiryYear",children:"Expiry Year"}),(0,a.jsxs)(o.l6,{value:A.expiryYear,onValueChange:e=>S({...A,expiryYear:e}),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Year"})}),(0,a.jsx)(o.gC,{children:Array.from({length:10},(e,s)=>{let r=new Date().getFullYear()+s;return(0,a.jsx)(o.eb,{value:r.toString(),children:r},r)})})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Billing Address"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"billingAddress",children:"Address"}),(0,a.jsx)(c.p,{id:"billingAddress",type:"text",placeholder:"123 Main St",value:A.billingAddress,onChange:e=>S({...A,billingAddress:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"city",children:"City"}),(0,a.jsx)(c.p,{id:"city",type:"text",placeholder:"New York",value:A.city,onChange:e=>S({...A,city:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"state",children:"State"}),(0,a.jsx)(c.p,{id:"state",type:"text",placeholder:"NY",value:A.state,onChange:e=>S({...A,state:e.target.value}),required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"zipCode",children:"ZIP Code"}),(0,a.jsx)(c.p,{id:"zipCode",type:"text",placeholder:"10001",value:A.zipCode,onChange:e=>S({...A,zipCode:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"country",children:"Country"}),(0,a.jsxs)(o.l6,{value:A.country,onValueChange:e=>S({...A,country:e}),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"US",children:"United States"}),(0,a.jsx)(o.eb,{value:"CA",children:"Canada"}),(0,a.jsx)(o.eb,{value:"UK",children:"United Kingdom"}),(0,a.jsx)(o.eb,{value:"AU",children:"Australia"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{id:"saveCard",checked:A.saveCard,onCheckedChange:e=>S({...A,saveCard:e})}),(0,a.jsx)(d.J,{htmlFor:"saveCard",children:"Save this card for future payments"})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(u,{id:"termsAccepted",checked:A.termsAccepted,onCheckedChange:e=>S({...A,termsAccepted:e})}),(0,a.jsx)(d.J,{htmlFor:"termsAccepted",className:"text-sm",children:"I agree to the terms and conditions and privacy policy"})]})]}),(0,a.jsx)(l.$,{type:"submit",className:"w-full",disabled:s,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Payment..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Pay $",m.totalAmount]})})]})})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Order Summary"})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(y.A,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Service Booking"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:F(m.contractType)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Service Type:"}),(0,a.jsx)("span",{children:F(m.contractType)})]}),m.startDate&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Start Date:"}),(0,a.jsx)("span",{children:m.startDate})]}),m.startTime&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Start Time:"}),(0,a.jsx)("span",{children:m.startTime})]}),m.duration&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Duration:"}),(0,a.jsx)("span",{children:m.duration})]})]}),(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Total Amount"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",m.totalAmount]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Secure payment powered by Stripe"})]})]})]})})]})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(N.A,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Payment Data"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please return to the service page and try again."})]}),(0,a.jsx)(C(),{href:"/services",children:(0,a.jsx)(l.$,{className:"w-full",children:"Back to Services"})})]})})]})}},8703:(e,s,r)=>{Promise.resolve().then(r.bind(r,8692))},9434:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var a=r(2596),t=r(9688);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.QP)((0,a.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[352,583,433,874,171,671,823,195,216,441,684,358],()=>s(8703)),_N_E=e.O()}]);