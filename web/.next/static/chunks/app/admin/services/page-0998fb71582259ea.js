(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{1394:(e,s,a)=>{"use strict";a.d(s,{BK:()=>l,eu:()=>n,q5:()=>c});var r=a(5155);a(2115);var t=a(4011),i=a(9434);function n(e){let{className:s,...a}=e;return(0,r.jsx)(t.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function l(e){let{className:s,...a}=e;return(0,r.jsx)(t._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",s),...a})}function c(e){let{className:s,...a}=e;return(0,r.jsx)(t.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}},1414:(e,s,a)=>{"use strict";e.exports=a(2436)},2436:(e,s,a)=>{"use strict";var r=a(2115),t="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},i=r.useState,n=r.useEffect,l=r.useLayoutEffect,c=r.useDebugValue;function d(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!t(e,a)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var a=s(),r=i({inst:{value:a,getSnapshot:s}}),t=r[0].inst,o=r[1];return l(function(){t.value=a,t.getSnapshot=s,d(t)&&o({inst:t})},[e,a,s]),n(function(){return d(t)&&o({inst:t}),e(function(){d(t)&&o({inst:t})})},[e]),c(a),a};s.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:o},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3355:(e,s,a)=>{Promise.resolve().then(a.bind(a,5989))},4011:(e,s,a)=>{"use strict";a.d(s,{H4:()=>w,_V:()=>b,bL:()=>A});var r=a(2115),t=a(6081),i=a(9033),n=a(2712),l=a(3655),c=a(1414);function d(){return()=>{}}var o=a(5155),x="Avatar",[h,u]=(0,t.A)(x),[m,j]=h(x),v=r.forwardRef((e,s)=>{let{__scopeAvatar:a,...t}=e,[i,n]=r.useState("idle");return(0,o.jsx)(m,{scope:a,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,o.jsx)(l.sG.span,{...t,ref:s})})});v.displayName=x;var g="AvatarImage",f=r.forwardRef((e,s)=>{let{__scopeAvatar:a,src:t,onLoadingStatusChange:x=()=>{},...h}=e,u=j(g,a),m=function(e,s){let{referrerPolicy:a,crossOrigin:t}=s,i=(0,c.useSyncExternalStore)(d,()=>!0,()=>!1),l=r.useRef(null),o=i?(l.current||(l.current=new window.Image),l.current):null,[x,h]=r.useState(()=>N(o,e));return(0,n.N)(()=>{h(N(o,e))},[o,e]),(0,n.N)(()=>{let e=e=>()=>{h(e)};if(!o)return;let s=e("loaded"),r=e("error");return o.addEventListener("load",s),o.addEventListener("error",r),a&&(o.referrerPolicy=a),"string"==typeof t&&(o.crossOrigin=t),()=>{o.removeEventListener("load",s),o.removeEventListener("error",r)}},[o,t,a]),x}(t,h),v=(0,i.c)(e=>{x(e),u.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==m&&v(m)},[m,v]),"loaded"===m?(0,o.jsx)(l.sG.img,{...h,ref:s,src:t}):null});f.displayName=g;var p="AvatarFallback",y=r.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:t,...i}=e,n=j(p,a),[c,d]=r.useState(void 0===t);return r.useEffect(()=>{if(void 0!==t){let e=window.setTimeout(()=>d(!0),t);return()=>window.clearTimeout(e)}},[t]),c&&"loaded"!==n.imageLoadingStatus?(0,o.jsx)(l.sG.span,{...i,ref:s}):null});function N(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=p;var A=v,b=f,w=y},4516:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5868:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5989:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var r=a(5155),t=a(2115),i=a(285),n=a(6695),l=a(2523),c=a(6126),d=a(1394),o=a(9409),x=a(5127),h=a(4165),u=a(8564),m=a(7576),j=a(7924),v=a(5868),g=a(4516),f=a(2657),p=a(9509);function y(){let[e,s]=(0,t.useState)([]),[a,y]=(0,t.useState)([]),[N,A]=(0,t.useState)(!0),[b,w]=(0,t.useState)(""),[S,C]=(0,t.useState)(""),[E,k]=(0,t.useState)(""),[L,P]=(0,t.useState)(null),I=(0,t.useCallback)(async()=>{A(!0);try{let e=localStorage.getItem("token"),a=new URLSearchParams({page:"1",pageSize:"50"});b&&a.append("search",b),S&&a.append("categoryId",S),E&&a.append("status",E);let r=await fetch("".concat(p.env.NEXT_PUBLIC_API_URL,"/admin/services?").concat(a),{headers:{Authorization:"Bearer ".concat(e)}}),t=await r.json();t.success&&s(t.data)}catch(e){console.error("Error fetching services:",e)}finally{A(!1)}},[b,S,E]);(0,t.useEffect)(()=>{_(),I()},[I]);let _=async()=>{try{let e=await fetch("".concat(p.env.NEXT_PUBLIC_API_URL,"/categories")),s=await e.json();s.success&&y(s.data)}catch(e){console.error("Error fetching categories:",e)}},R=()=>{w(""),C(""),k(""),I()},V=async(e,s)=>{try{let a=localStorage.getItem("token");(await fetch("".concat(p.env.NEXT_PUBLIC_API_URL,"/admin/services/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({isActive:s})})).ok&&I()}catch(e){console.error("Error updating service status:",e)}},B=async(e,s)=>{try{let a=localStorage.getItem("token");(await fetch("".concat(p.env.NEXT_PUBLIC_API_URL,"/admin/services/").concat(e,"/verification"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({isVerified:s})})).ok&&I()}catch(e){console.error("Error updating service verification:",e)}},U=e=>e?(0,r.jsx)(c.E,{className:"bg-green-100 text-green-800",children:"Active"}):(0,r.jsx)(c.E,{variant:"secondary",children:"Inactive"}),z=e=>e?(0,r.jsx)(c.E,{className:"bg-blue-100 text-blue-800",children:"Verified"}):(0,r.jsx)(c.E,{className:"bg-yellow-100 text-yellow-800",children:"Pending"}),T=e=>Array.from({length:5},(s,a)=>(0,r.jsx)(u.A,{className:"h-3 w-3 ".concat(a<Math.floor(e)?"fill-yellow-400 text-yellow-400":"text-gray-300")},a));return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Service Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage platform services and verifications"})]}),(0,r.jsxs)(n.Zp,{className:"mb-8",children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-5 w-5"}),"Search & Filters"]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(j.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(l.p,{placeholder:"Search services...",value:b,onChange:e=>w(e.target.value),className:"pl-10"})]}),(0,r.jsxs)(o.l6,{value:S,onValueChange:C,children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{placeholder:"All Categories"})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"all",children:"All Categories"}),a.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)(o.l6,{value:E,onValueChange:k,children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{placeholder:"All Statuses"})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"all",children:"All Statuses"}),(0,r.jsx)(o.eb,{value:"Active",children:"Active"}),(0,r.jsx)(o.eb,{value:"Inactive",children:"Inactive"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.$,{onClick:()=>{I()},className:"flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),"Search"]}),(0,r.jsx)(i.$,{variant:"outline",onClick:R,children:"Clear"})]})]})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{children:["Services (",e.length,")"]}),(0,r.jsx)(n.BT,{children:"Manage service listings and verifications"})]}),(0,r.jsxs)(n.Wu,{children:[N?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading services..."})]}):(0,r.jsxs)(x.XI,{children:[(0,r.jsx)(x.A0,{children:(0,r.jsxs)(x.Hj,{children:[(0,r.jsx)(x.nd,{children:"Service"}),(0,r.jsx)(x.nd,{children:"Provider"}),(0,r.jsx)(x.nd,{children:"Category"}),(0,r.jsx)(x.nd,{children:"Price"}),(0,r.jsx)(x.nd,{children:"Location"}),(0,r.jsx)(x.nd,{children:"Rating"}),(0,r.jsx)(x.nd,{children:"Status"}),(0,r.jsx)(x.nd,{children:"Verification"}),(0,r.jsx)(x.nd,{children:"Actions"})]})}),(0,r.jsx)(x.BF,{children:e.map(e=>(0,r.jsxs)(x.Hj,{children:[(0,r.jsx)(x.nA,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2",children:e.description})]})}),(0,r.jsx)(x.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(d.eu,{className:"h-6 w-6",children:[(0,r.jsx)(d.BK,{src:e.provider.profilePictureUrl}),(0,r.jsxs)(d.q5,{children:[e.provider.firstName[0],e.provider.lastName[0]]})]}),(0,r.jsxs)("span",{className:"text-sm",children:[e.provider.firstName," ",e.provider.lastName]})]})}),(0,r.jsx)(x.nA,{children:(0,r.jsx)(c.E,{variant:"outline",children:e.category.name})}),(0,r.jsx)(x.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(v.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"font-medium",children:e.basePrice})]})}),(0,r.jsx)(x.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,r.jsx)(g.A,{className:"h-3 w-3"}),e.location]})}),(0,r.jsx)(x.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[T(e.averageRating),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.totalReviews,")"]})]})}),(0,r.jsx)(x.nA,{children:U(e.isActive)}),(0,r.jsx)(x.nA,{children:z(e.isVerified)}),(0,r.jsx)(x.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(h.lG,{children:[(0,r.jsx)(h.zM,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>P(e),children:(0,r.jsx)(f.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(h.Cf,{className:"max-w-2xl",children:[(0,r.jsxs)(h.c7,{children:[(0,r.jsx)(h.L3,{children:"Service Details"}),(0,r.jsxs)(h.rr,{children:["View detailed information about ",e.title]})]}),L&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:L.title}),(0,r.jsx)("p",{className:"text-gray-600",children:L.description})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Provider"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[L.provider.firstName," ",L.provider.lastName]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Category"}),(0,r.jsx)("p",{className:"text-gray-600",children:L.category.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Price"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["$",L.basePrice," ",L.currency]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Location"}),(0,r.jsx)("p",{className:"text-gray-600",children:L.location})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Rating"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[T(L.averageRating),(0,r.jsxs)("span",{className:"text-gray-600",children:["(",L.totalReviews," reviews)"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Created"}),(0,r.jsx)("p",{className:"text-gray-600",children:new Date(L.createdAt).toLocaleDateString()})]})]})]})]})]}),(0,r.jsxs)(o.l6,{onValueChange:s=>V(e.id,"true"===s),children:[(0,r.jsx)(o.bq,{className:"w-24",children:(0,r.jsx)(o.yv,{placeholder:"Status"})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"true",children:"Activate"}),(0,r.jsx)(o.eb,{value:"false",children:"Deactivate"})]})]}),(0,r.jsxs)(o.l6,{onValueChange:s=>B(e.id,"true"===s),children:[(0,r.jsx)(o.bq,{className:"w-24",children:(0,r.jsx)(o.yv,{placeholder:"Verify"})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"true",children:"Verify"}),(0,r.jsx)(o.eb,{value:"false",children:"Unverify"})]})]})]})})]},e.id))})]}),!N&&0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"No services found matching your criteria."}),(0,r.jsx)(i.$,{variant:"outline",onClick:R,className:"mt-4",children:"Clear Filters"})]})]})]})]})})}},7576:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},8564:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[352,583,433,171,610,732,441,684,358],()=>s(3355)),_N_E=e.O()}]);