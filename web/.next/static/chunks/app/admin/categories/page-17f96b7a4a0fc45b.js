(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{4395:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},4519:(e,t,a)=>{Promise.resolve().then(a.bind(a,6934))},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5057:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var r=a(5155);a(2115);var s=a(968),n=a(9434);function l(e){let{className:t,...a}=e;return(0,r.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},6934:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ed});var r=a(5155),s=a(2115),n=a(285),l=a(6695),i=a(2523),c=a(6126),o=a(5127),d=a(4165),x=a(7759),u=a(8539),m=a(6081),h=a(6101),g=a(5452),j=a(5185),p=a(9708),f="AlertDialog",[v,y]=(0,m.A)(f,[g.Hs]),b=(0,g.Hs)(),N=e=>{let{__scopeAlertDialog:t,...a}=e,s=b(t);return(0,r.jsx)(g.bL,{...s,...a,modal:!0})};N.displayName=f;var C=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=b(a);return(0,r.jsx)(g.l9,{...n,...s,ref:t})});C.displayName="AlertDialogTrigger";var A=e=>{let{__scopeAlertDialog:t,...a}=e,s=b(t);return(0,r.jsx)(g.ZL,{...s,...a})};A.displayName="AlertDialogPortal";var w=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=b(a);return(0,r.jsx)(g.hJ,{...n,...s,ref:t})});w.displayName="AlertDialogOverlay";var k="AlertDialogContent",[I,S]=v(k),D=(0,p.Dc)("AlertDialogContent"),E=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:n,...l}=e,i=b(a),c=s.useRef(null),o=(0,h.s)(t,c),d=s.useRef(null);return(0,r.jsx)(g.G$,{contentName:k,titleName:R,docsSlug:"alert-dialog",children:(0,r.jsx)(I,{scope:a,cancelRef:d,children:(0,r.jsxs)(g.UC,{role:"alertdialog",...i,...l,ref:o,onOpenAutoFocus:(0,j.m)(l.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=d.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(D,{children:n}),(0,r.jsx)(U,{contentRef:c})]})})})});E.displayName=k;var R="AlertDialogTitle",_=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=b(a);return(0,r.jsx)(g.hE,{...n,...s,ref:t})});_.displayName=R;var P="AlertDialogDescription",B=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=b(a);return(0,r.jsx)(g.VY,{...n,...s,ref:t})});B.displayName=P;var T=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=b(a);return(0,r.jsx)(g.bm,{...n,...s,ref:t})});T.displayName="AlertDialogAction";var z="AlertDialogCancel",L=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,{cancelRef:n}=S(z,a),l=b(a),i=(0,h.s)(t,n);return(0,r.jsx)(g.bm,{...l,...s,ref:i})});L.displayName=z;var U=e=>{let{contentRef:t}=e,a="`".concat(k,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(k,"` by passing a `").concat(P,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(k,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return s.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},M=a(9434);function O(e){let{...t}=e;return(0,r.jsx)(N,{"data-slot":"alert-dialog",...t})}function F(e){let{...t}=e;return(0,r.jsx)(C,{"data-slot":"alert-dialog-trigger",...t})}function H(e){let{...t}=e;return(0,r.jsx)(A,{"data-slot":"alert-dialog-portal",...t})}function J(e){let{className:t,...a}=e;return(0,r.jsx)(w,{"data-slot":"alert-dialog-overlay",className:(0,M.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function $(e){let{className:t,...a}=e;return(0,r.jsxs)(H,{children:[(0,r.jsx)(J,{}),(0,r.jsx)(E,{"data-slot":"alert-dialog-content",className:(0,M.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function V(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,M.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function X(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,M.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function q(e){let{className:t,...a}=e;return(0,r.jsx)(_,{"data-slot":"alert-dialog-title",className:(0,M.cn)("text-lg font-semibold",t),...a})}function Y(e){let{className:t,...a}=e;return(0,r.jsx)(B,{"data-slot":"alert-dialog-description",className:(0,M.cn)("text-muted-foreground text-sm",t),...a})}function Z(e){let{className:t,...a}=e;return(0,r.jsx)(T,{className:(0,M.cn)((0,n.r)(),t),...a})}function W(e){let{className:t,...a}=e;return(0,r.jsx)(L,{className:(0,M.cn)((0,n.r)({variant:"outline"}),t),...a})}var G=a(4395),K=a(7924),Q=a(4616),ee=a(9946);let et=(0,ee.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ea=(0,ee.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var er=a(1154),es=a(2177),en=a(8778),el=a(1153),ei=a(9409),ec=a(9509);let eo=el.Ik({name:el.Yj().min(1,"Name is required"),description:el.Yj().min(1,"Description is required"),icon:el.Yj().min(1,"Icon is required")});function ed(){let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)(!0),[h,g]=(0,s.useState)(""),[j,p]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[y,b]=(0,s.useState)(!1),N=(0,es.mN)({resolver:(0,en.u)(eo),defaultValues:{name:"",description:"",icon:""}}),C=(0,s.useCallback)(async()=>{m(!0);try{let e=localStorage.getItem("token"),a=new URLSearchParams({page:"1",pageSize:"100"});h&&a.append("search",h);let r=await fetch("".concat(ec.env.NEXT_PUBLIC_API_URL,"/admin/categories?").concat(a),{headers:{Authorization:"Bearer ".concat(e)}}),s=await r.json();s.success&&t(s.data)}catch(e){console.error("Error fetching categories:",e)}finally{m(!1)}},[h]);(0,s.useEffect)(()=>{C()},[C]);let A=()=>{v(null),N.reset({name:"",description:"",icon:""}),p(!0)},w=e=>{v(e),N.reset({name:e.name,description:e.description,icon:e.icon}),p(!0)},k=async e=>{b(!0);try{let t=localStorage.getItem("token"),a=f?"".concat(ec.env.NEXT_PUBLIC_API_URL,"/admin/categories/").concat(f.id):"".concat(ec.env.NEXT_PUBLIC_API_URL,"/admin/categories");(await fetch(a,{method:f?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)})).ok&&(p(!1),C(),N.reset())}catch(e){console.error("Error saving category:",e)}finally{b(!1)}},I=async e=>{try{let t=localStorage.getItem("token");(await fetch("".concat(ec.env.NEXT_PUBLIC_API_URL,"/admin/categories/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok&&C()}catch(e){console.error("Error deleting category:",e)}},S=async(e,t)=>{try{let a=localStorage.getItem("token");(await fetch("".concat(ec.env.NEXT_PUBLIC_API_URL,"/admin/categories/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({isActive:t})})).ok&&C()}catch(e){console.error("Error updating category status:",e)}},D=e=>e?(0,r.jsx)(c.E,{className:"bg-green-100 text-green-800",children:"Active"}):(0,r.jsx)(c.E,{variant:"secondary",children:"Inactive"});return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Category Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage service categories and classifications"})]}),(0,r.jsxs)(l.Zp,{className:"mb-8",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(G.A,{className:"h-5 w-5"}),"Search & Actions"]})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(K.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(i.p,{placeholder:"Search categories...",value:h,onChange:e=>g(e.target.value),className:"pl-10"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{onClick:()=>{C()},className:"flex items-center gap-2",children:[(0,r.jsx)(K.A,{className:"h-4 w-4"}),"Search"]}),(0,r.jsx)(n.$,{variant:"outline",onClick:()=>{g(""),C()},children:"Clear"}),(0,r.jsxs)(n.$,{onClick:A,className:"flex items-center gap-2",children:[(0,r.jsx)(Q.A,{className:"h-4 w-4"}),"Add Category"]})]})]})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{children:["Categories (",e.length,")"]}),(0,r.jsx)(l.BT,{children:"Manage service categories and their properties"})]}),(0,r.jsxs)(l.Wu,{children:[a?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading categories..."})]}):(0,r.jsxs)(o.XI,{children:[(0,r.jsx)(o.A0,{children:(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nd,{children:"Category"}),(0,r.jsx)(o.nd,{children:"Description"}),(0,r.jsx)(o.nd,{children:"Services"}),(0,r.jsx)(o.nd,{children:"Status"}),(0,r.jsx)(o.nd,{children:"Created"}),(0,r.jsx)(o.nd,{children:"Actions"})]})}),(0,r.jsx)(o.BF,{children:e.map(e=>(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-blue-600 text-sm",children:e.icon})}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,r.jsx)(o.nA,{children:(0,r.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})}),(0,r.jsx)(o.nA,{children:(0,r.jsxs)(c.E,{variant:"outline",children:[e.serviceCount," services"]})}),(0,r.jsx)(o.nA,{children:D(e.isActive)}),(0,r.jsx)(o.nA,{children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})}),(0,r.jsx)(o.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>w(e),children:(0,r.jsx)(et,{className:"h-4 w-4"})}),(0,r.jsxs)(ei.l6,{onValueChange:t=>S(e.id,"true"===t),children:[(0,r.jsx)(ei.bq,{className:"w-24",children:(0,r.jsx)(ei.yv,{placeholder:"Status"})}),(0,r.jsxs)(ei.gC,{children:[(0,r.jsx)(ei.eb,{value:"true",children:"Activate"}),(0,r.jsx)(ei.eb,{value:"false",children:"Deactivate"})]})]}),(0,r.jsxs)(O,{children:[(0,r.jsx)(F,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(ea,{className:"h-4 w-4"})})}),(0,r.jsxs)($,{children:[(0,r.jsxs)(V,{children:[(0,r.jsx)(q,{children:"Delete Category"}),(0,r.jsxs)(Y,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.',e.serviceCount>0&&(0,r.jsxs)("span",{className:"block mt-2 text-red-600",children:["Warning: This category has ",e.serviceCount," associated services."]})]})]}),(0,r.jsxs)(X,{children:[(0,r.jsx)(W,{children:"Cancel"}),(0,r.jsx)(Z,{onClick:()=>I(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},e.id))})]}),!a&&0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"No categories found."}),(0,r.jsx)(n.$,{onClick:A,className:"mt-4",children:"Create First Category"})]})]})]}),(0,r.jsx)(d.lG,{open:j,onOpenChange:p,children:(0,r.jsxs)(d.Cf,{children:[(0,r.jsxs)(d.c7,{children:[(0,r.jsx)(d.L3,{children:f?"Edit Category":"Create Category"}),(0,r.jsx)(d.rr,{children:f?"Update the category information below.":"Add a new service category to the platform."})]}),(0,r.jsx)(x.lV,{...N,children:(0,r.jsxs)("form",{onSubmit:N.handleSubmit(k),className:"space-y-4",children:[(0,r.jsx)(x.zB,{control:N.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.eI,{children:[(0,r.jsx)(x.lR,{children:"Name"}),(0,r.jsx)(x.MJ,{children:(0,r.jsx)(i.p,{placeholder:"Enter category name",...t})}),(0,r.jsx)(x.C5,{})]})}}),(0,r.jsx)(x.zB,{control:N.control,name:"description",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.eI,{children:[(0,r.jsx)(x.lR,{children:"Description"}),(0,r.jsx)(x.MJ,{children:(0,r.jsx)(u.T,{placeholder:"Enter category description",...t})}),(0,r.jsx)(x.C5,{})]})}}),(0,r.jsx)(x.zB,{control:N.control,name:"icon",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.eI,{children:[(0,r.jsx)(x.lR,{children:"Icon"}),(0,r.jsx)(x.MJ,{children:(0,r.jsx)(i.p,{placeholder:"Enter icon (emoji or text)",...t})}),(0,r.jsx)(x.C5,{})]})}}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,r.jsx)(n.$,{type:"submit",disabled:y,children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(er.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):f?"Update Category":"Create Category"})]})]})})]})})]})})}},7759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>p,MJ:()=>j,eI:()=>h,lR:()=>g,lV:()=>o,zB:()=>x});var r=a(5155),s=a(2115),n=a(9708),l=a(2177),i=a(9434),c=a(5057);let o=l.Op,d=s.createContext({}),x=e=>{let{...t}=e;return(0,r.jsx)(d.Provider,{value:{name:t.name},children:(0,r.jsx)(l.xI,{...t})})},u=()=>{let e=s.useContext(d),t=s.useContext(m),{getFieldState:a}=(0,l.xW)(),r=(0,l.lN)({name:e.name}),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},m=s.createContext({});function h(e){let{className:t,...a}=e,n=s.useId();return(0,r.jsx)(m.Provider,{value:{id:n},children:(0,r.jsx)("div",{"data-slot":"form-item",className:(0,i.cn)("grid gap-2",t),...a})})}function g(e){let{className:t,...a}=e,{error:s,formItemId:n}=u();return(0,r.jsx)(c.J,{"data-slot":"form-label","data-error":!!s,className:(0,i.cn)("data-[error=true]:text-destructive",t),htmlFor:n,...a})}function j(e){let{...t}=e,{error:a,formItemId:s,formDescriptionId:l,formMessageId:i}=u();return(0,r.jsx)(n.DX,{"data-slot":"form-control",id:s,"aria-describedby":a?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!a,...t})}function p(e){var t;let{className:a,...s}=e,{error:n,formMessageId:l}=u(),c=n?String(null!=(t=null==n?void 0:n.message)?t:""):s.children;return c?(0,r.jsx)("p",{"data-slot":"form-message",id:l,className:(0,i.cn)("text-destructive text-sm",a),...s,children:c}):null}},8539:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var r=a(5155);a(2115);var s=a(9434);function n(e){let{className:t,...a}=e;return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,583,433,171,610,977,732,441,684,358],()=>t(4519)),_N_E=e.O()}]);