(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{1394:(e,s,t)=>{"use strict";t.d(s,{BK:()=>c,eu:()=>n,q5:()=>i});var a=t(5155);t(2115);var r=t(4011),l=t(9434);function n(e){let{className:s,...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"avatar",className:(0,l.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(r._V,{"data-slot":"avatar-image",className:(0,l.cn)("aspect-square size-full",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,l.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...t})}},1414:(e,s,t)=>{"use strict";e.exports=t(2436)},2436:(e,s,t)=>{"use strict";var a=t(2115),r="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},l=a.useState,n=a.useEffect,c=a.useLayoutEffect,i=a.useDebugValue;function d(e){var s=e.getSnapshot;e=e.value;try{var t=s();return!r(e,t)}catch(e){return!0}}var x="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var t=s(),a=l({inst:{value:t,getSnapshot:s}}),r=a[0].inst,x=a[1];return c(function(){r.value=t,r.getSnapshot=s,d(r)&&x({inst:r})},[e,t,s]),n(function(){return d(r)&&x({inst:r}),e(function(){d(r)&&x({inst:r})})},[e]),i(t),t};s.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:x},2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4011:(e,s,t)=>{"use strict";t.d(s,{H4:()=>A,_V:()=>w,bL:()=>b});var a=t(2115),r=t(6081),l=t(9033),n=t(2712),c=t(3655),i=t(1414);function d(){return()=>{}}var x=t(5155),u="Avatar",[o,h]=(0,r.A)(u),[m,j]=o(u),p=a.forwardRef((e,s)=>{let{__scopeAvatar:t,...r}=e,[l,n]=a.useState("idle");return(0,x.jsx)(m,{scope:t,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:(0,x.jsx)(c.sG.span,{...r,ref:s})})});p.displayName=u;var v="AvatarImage",g=a.forwardRef((e,s)=>{let{__scopeAvatar:t,src:r,onLoadingStatusChange:u=()=>{},...o}=e,h=j(v,t),m=function(e,s){let{referrerPolicy:t,crossOrigin:r}=s,l=(0,i.useSyncExternalStore)(d,()=>!0,()=>!1),c=a.useRef(null),x=l?(c.current||(c.current=new window.Image),c.current):null,[u,o]=a.useState(()=>y(x,e));return(0,n.N)(()=>{o(y(x,e))},[x,e]),(0,n.N)(()=>{let e=e=>()=>{o(e)};if(!x)return;let s=e("loaded"),a=e("error");return x.addEventListener("load",s),x.addEventListener("error",a),t&&(x.referrerPolicy=t),"string"==typeof r&&(x.crossOrigin=r),()=>{x.removeEventListener("load",s),x.removeEventListener("error",a)}},[x,r,t]),u}(r,o),p=(0,l.c)(e=>{u(e),h.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==m&&p(m)},[m,p]),"loaded"===m?(0,x.jsx)(c.sG.img,{...o,ref:s,src:r}):null});g.displayName=v;var N="AvatarFallback",f=a.forwardRef((e,s)=>{let{__scopeAvatar:t,delayMs:r,...l}=e,n=j(N,t),[i,d]=a.useState(void 0===r);return a.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(e)}},[r]),i&&"loaded"!==n.imageLoadingStatus?(0,x.jsx)(c.sG.span,{...l,ref:s}):null});function y(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}f.displayName=N;var b=p,w=g,A=f},5868:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},7434:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8496:(e,s,t)=>{Promise.resolve().then(t.bind(t,8772))},8772:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(5155),r=t(2115),l=t(285),n=t(6695),c=t(2523),i=t(6126),d=t(1394),x=t(9409),u=t(5127),o=t(4165),h=t(7434),m=t(7924),j=t(5868),p=t(2657),v=t(9509);function g(){let[e,s]=(0,r.useState)([]),[t,g]=(0,r.useState)(!0),[N,f]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[w,A]=(0,r.useState)(""),[S,C]=(0,r.useState)(null),E=(0,r.useCallback)(async()=>{g(!0);try{let e=localStorage.getItem("token"),t=new URLSearchParams({page:"1",pageSize:"50"});N&&t.append("search",N),y&&t.append("status",y),w&&t.append("contractType",w);let a=await fetch("".concat(v.env.NEXT_PUBLIC_API_URL,"/admin/contracts?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),r=await a.json();r.success&&s(r.data)}catch(e){console.error("Error fetching contracts:",e)}finally{g(!1)}},[N,y,w]);(0,r.useEffect)(()=>{E()},[E]);let k=()=>{f(""),b(""),A(""),E()},P=e=>{switch(e){case"Active":return(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"Active"});case"Completed":return(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800",children:"Completed"});case"Cancelled":return(0,a.jsx)(i.E,{variant:"destructive",children:"Cancelled"});case"Pending":return(0,a.jsx)(i.E,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"Disputed":return(0,a.jsx)(i.E,{className:"bg-red-100 text-red-800",children:"Disputed"});default:return(0,a.jsx)(i.E,{variant:"outline",children:e})}},q=e=>{switch(e){case"Paid":return(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"Paid"});case"Pending":return(0,a.jsx)(i.E,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"Failed":return(0,a.jsx)(i.E,{variant:"destructive",children:"Failed"});case"Refunded":return(0,a.jsx)(i.E,{className:"bg-gray-100 text-gray-800",children:"Refunded"});default:return(0,a.jsx)(i.E,{variant:"outline",children:e})}},D=e=>{switch(e){case"Hourly":return(0,a.jsx)(i.E,{className:"bg-purple-100 text-purple-800",children:"Hourly"});case"Weekly":return(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800",children:"Weekly"});case"Monthly":return(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"Monthly"});case"Fixed":return(0,a.jsx)(i.E,{className:"bg-orange-100 text-orange-800",children:"Fixed"});default:return(0,a.jsx)(i.E,{variant:"outline",children:e})}},L={active:e.filter(e=>"Active"===e.status).length,completed:e.filter(e=>"Completed"===e.status).length,pending:e.filter(e=>"Pending"===e.status).length,cancelled:e.filter(e=>"Cancelled"===e.status).length,disputed:e.filter(e=>"Disputed"===e.status).length};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contract Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Monitor and manage service contracts"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Active"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:L.active})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Completed"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:L.completed})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Pending"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:L.pending})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Cancelled"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:L.cancelled})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Disputed"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:L.disputed})]})})]}),(0,a.jsxs)(n.Zp,{className:"mb-8",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5"}),"Search & Filters"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.p,{placeholder:"Search contracts...",value:N,onChange:e=>f(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(x.l6,{value:y,onValueChange:b,children:[(0,a.jsx)(x.bq,{children:(0,a.jsx)(x.yv,{placeholder:"All Statuses"})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"all",children:"All Statuses"}),(0,a.jsx)(x.eb,{value:"Active",children:"Active"}),(0,a.jsx)(x.eb,{value:"Completed",children:"Completed"}),(0,a.jsx)(x.eb,{value:"Pending",children:"Pending"}),(0,a.jsx)(x.eb,{value:"Cancelled",children:"Cancelled"}),(0,a.jsx)(x.eb,{value:"Disputed",children:"Disputed"})]})]}),(0,a.jsxs)(x.l6,{value:w,onValueChange:A,children:[(0,a.jsx)(x.bq,{children:(0,a.jsx)(x.yv,{placeholder:"All Types"})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"all",children:"All Types"}),(0,a.jsx)(x.eb,{value:"Hourly",children:"Hourly"}),(0,a.jsx)(x.eb,{value:"Weekly",children:"Weekly"}),(0,a.jsx)(x.eb,{value:"Monthly",children:"Monthly"}),(0,a.jsx)(x.eb,{value:"Fixed",children:"Fixed"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.$,{onClick:()=>{E()},className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Search"]}),(0,a.jsx)(l.$,{variant:"outline",onClick:k,children:"Clear"})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{children:["Contracts (",e.length,")"]}),(0,a.jsx)(n.BT,{children:"Monitor contract status and payments"})]}),(0,a.jsxs)(n.Wu,{children:[t?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading contracts..."})]}):(0,a.jsxs)(u.XI,{children:[(0,a.jsx)(u.A0,{children:(0,a.jsxs)(u.Hj,{children:[(0,a.jsx)(u.nd,{children:"Contract"}),(0,a.jsx)(u.nd,{children:"Service"}),(0,a.jsx)(u.nd,{children:"Provider"}),(0,a.jsx)(u.nd,{children:"Requester"}),(0,a.jsx)(u.nd,{children:"Type"}),(0,a.jsx)(u.nd,{children:"Amount"}),(0,a.jsx)(u.nd,{children:"Status"}),(0,a.jsx)(u.nd,{children:"Payment"}),(0,a.jsx)(u.nd,{children:"Actions"})]})}),(0,a.jsx)(u.BF,{children:e.map(e=>(0,a.jsxs)(u.Hj,{children:[(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.contractNumber}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]})}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.service.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["$",e.service.basePrice," ",e.service.currency]})]})}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(d.eu,{className:"h-6 w-6",children:[(0,a.jsx)(d.BK,{src:e.provider.profilePictureUrl}),(0,a.jsxs)(d.q5,{children:[e.provider.firstName[0],e.provider.lastName[0]]})]}),(0,a.jsxs)("span",{className:"text-sm",children:[e.provider.firstName," ",e.provider.lastName]})]})}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(d.eu,{className:"h-6 w-6",children:[(0,a.jsx)(d.BK,{src:e.requester.profilePictureUrl}),(0,a.jsxs)(d.q5,{children:[e.requester.firstName[0],e.requester.lastName[0]]})]}),(0,a.jsxs)("span",{className:"text-sm",children:[e.requester.firstName," ",e.requester.lastName]})]})}),(0,a.jsx)(u.nA,{children:D(e.contractType)}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"font-medium",children:e.totalAmount})]})}),(0,a.jsx)(u.nA,{children:P(e.status)}),(0,a.jsx)(u.nA,{children:q(e.paymentStatus)}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)(o.lG,{children:[(0,a.jsx)(o.zM,{asChild:!0,children:(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>C(e),children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(o.Cf,{className:"max-w-2xl",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Contract Details"}),(0,a.jsxs)(o.rr,{children:["View detailed information about contract ",e.contractNumber]})]}),S&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Contract Number"}),(0,a.jsx)("p",{className:"text-gray-600",children:S.contractNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Service"}),(0,a.jsx)("p",{className:"text-gray-600",children:S.service.title})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Provider"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[S.provider.firstName," ",S.provider.lastName]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Requester"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[S.requester.firstName," ",S.requester.lastName]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Contract Type"}),(0,a.jsx)("p",{className:"text-gray-600",children:S.contractType})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Total Amount"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["$",S.totalAmount," ",S.service.currency]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Start Date"}),(0,a.jsx)("p",{className:"text-gray-600",children:new Date(S.startDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"End Date"}),(0,a.jsx)("p",{className:"text-gray-600",children:new Date(S.endDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Status"}),(0,a.jsx)("p",{className:"text-gray-600",children:S.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Payment Status"}),(0,a.jsx)("p",{className:"text-gray-600",children:S.paymentStatus})]})]})})]})]})})]},e.id))})]}),!t&&0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"No contracts found matching your criteria."}),(0,a.jsx)(l.$,{variant:"outline",onClick:k,className:"mt-4",children:"Clear Filters"})]})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[352,583,433,171,610,732,441,684,358],()=>s(8496)),_N_E=e.O()}]);