(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{1394:(e,s,a)=>{"use strict";a.d(s,{BK:()=>i,eu:()=>l,q5:()=>c});var r=a(5155);a(2115);var t=a(4011),n=a(9434);function l(e){let{className:s,...a}=e;return(0,r.jsx)(t.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function i(e){let{className:s,...a}=e;return(0,r.jsx)(t._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",s),...a})}function c(e){let{className:s,...a}=e;return(0,r.jsx)(t.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}},1414:(e,s,a)=>{"use strict";e.exports=a(2436)},2436:(e,s,a)=>{"use strict";var r=a(2115),t="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},n=r.useState,l=r.useEffect,i=r.useLayoutEffect,c=r.useDebugValue;function d(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!t(e,a)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var a=s(),r=n({inst:{value:a,getSnapshot:s}}),t=r[0].inst,u=r[1];return i(function(){t.value=a,t.getSnapshot=s,d(t)&&u({inst:t})},[e,a,s]),l(function(){return d(t)&&u({inst:t}),e(function(){d(t)&&u({inst:t})})},[e]),c(a),a};s.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2899:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var r=a(5155),t=a(2115),n=a(285),l=a(6695),i=a(2523),c=a(6126),d=a(1394),u=a(9409),o=a(5127),h=a(4165),x=a(7580),j=a(7924),m=a(8883),v=a(9420),p=a(2657),g=a(9509);function f(){let[e,s]=(0,t.useState)([]),[a,f]=(0,t.useState)(!0),[N,y]=(0,t.useState)(""),[b,A]=(0,t.useState)(""),[S,w]=(0,t.useState)(""),[E,k]=(0,t.useState)(null);(0,t.useEffect)(()=>{C()},[]);let C=async()=>{f(!0);try{let e=localStorage.getItem("token"),a=new URLSearchParams({page:"1",pageSize:"50"});N&&a.append("search",N),b&&a.append("userType",b),S&&a.append("status",S);let r=await fetch("".concat(g.env.NEXT_PUBLIC_API_URL,"/admin/users?").concat(a),{headers:{Authorization:"Bearer ".concat(e)}}),t=await r.json();t.success&&s(t.data)}catch(e){console.error("Error fetching users:",e)}finally{f(!1)}},P=()=>{y(""),A(""),w(""),C()},I=async(e,s)=>{try{let a=localStorage.getItem("token");(await fetch("".concat(g.env.NEXT_PUBLIC_API_URL,"/admin/users/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({status:s})})).ok&&C()}catch(e){console.error("Error updating user status:",e)}},L=async(e,s)=>{try{let a=localStorage.getItem("token");(await fetch("".concat(g.env.NEXT_PUBLIC_API_URL,"/admin/users/").concat(e,"/verification"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({verificationStatus:s})})).ok&&C()}catch(e){console.error("Error updating verification status:",e)}},R=e=>{switch(e){case"Active":return(0,r.jsx)(c.E,{className:"bg-green-100 text-green-800",children:"Active"});case"Inactive":return(0,r.jsx)(c.E,{variant:"secondary",children:"Inactive"});case"Suspended":return(0,r.jsx)(c.E,{variant:"destructive",children:"Suspended"});default:return(0,r.jsx)(c.E,{variant:"outline",children:e})}},U=e=>{switch(e){case"Verified":return(0,r.jsx)(c.E,{className:"bg-green-100 text-green-800",children:"Verified"});case"Pending":return(0,r.jsx)(c.E,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"Rejected":return(0,r.jsx)(c.E,{variant:"destructive",children:"Rejected"});default:return(0,r.jsx)(c.E,{variant:"outline",children:e})}},T=e=>{switch(e){case"Admin":return(0,r.jsx)(c.E,{className:"bg-purple-100 text-purple-800",children:"Admin"});case"Provider":return(0,r.jsx)(c.E,{className:"bg-blue-100 text-blue-800",children:"Provider"});case"Requester":return(0,r.jsx)(c.E,{className:"bg-orange-100 text-orange-800",children:"Requester"});default:return(0,r.jsx)(c.E,{variant:"outline",children:e})}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage platform users and their accounts"})]}),(0,r.jsxs)(l.Zp,{className:"mb-8",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(x.A,{className:"h-5 w-5"}),"Search & Filters"]})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(j.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(i.p,{placeholder:"Search users...",value:N,onChange:e=>y(e.target.value),className:"pl-10"})]}),(0,r.jsxs)(u.l6,{value:b,onValueChange:A,children:[(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{placeholder:"All User Types"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"all",children:"All User Types"}),(0,r.jsx)(u.eb,{value:"Admin",children:"Admin"}),(0,r.jsx)(u.eb,{value:"Provider",children:"Provider"}),(0,r.jsx)(u.eb,{value:"Requester",children:"Requester"})]})]}),(0,r.jsxs)(u.l6,{value:S,onValueChange:w,children:[(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{placeholder:"All Statuses"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"all",children:"All Statuses"}),(0,r.jsx)(u.eb,{value:"Active",children:"Active"}),(0,r.jsx)(u.eb,{value:"Inactive",children:"Inactive"}),(0,r.jsx)(u.eb,{value:"Suspended",children:"Suspended"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{onClick:()=>{C()},className:"flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),"Search"]}),(0,r.jsx)(n.$,{variant:"outline",onClick:P,children:"Clear"})]})]})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{children:["Users (",e.length,")"]}),(0,r.jsx)(l.BT,{children:"Manage user accounts and permissions"})]}),(0,r.jsxs)(l.Wu,{children:[a?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]}):(0,r.jsxs)(o.XI,{children:[(0,r.jsx)(o.A0,{children:(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nd,{children:"User"}),(0,r.jsx)(o.nd,{children:"Contact"}),(0,r.jsx)(o.nd,{children:"Type"}),(0,r.jsx)(o.nd,{children:"Status"}),(0,r.jsx)(o.nd,{children:"Verification"}),(0,r.jsx)(o.nd,{children:"Joined"}),(0,r.jsx)(o.nd,{children:"Actions"})]})}),(0,r.jsx)(o.BF,{children:e.map(e=>(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(d.eu,{className:"h-8 w-8",children:[(0,r.jsx)(d.BK,{src:e.profilePictureUrl}),(0,r.jsxs)(d.q5,{children:[e.firstName[0],e.lastName[0]]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["@",e.userName]})]})]})}),(0,r.jsx)(o.nA,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,r.jsx)(m.A,{className:"h-3 w-3"}),e.email]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,r.jsx)(v.A,{className:"h-3 w-3"}),e.phoneNumber]})]})}),(0,r.jsx)(o.nA,{children:T(e.userType)}),(0,r.jsx)(o.nA,{children:R(e.isActive?"Active":"Inactive")}),(0,r.jsx)(o.nA,{children:U(e.verificationStatus)}),(0,r.jsx)(o.nA,{children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})}),(0,r.jsx)(o.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(h.lG,{children:[(0,r.jsx)(h.zM,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>k(e),children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(h.Cf,{children:[(0,r.jsxs)(h.c7,{children:[(0,r.jsx)(h.L3,{children:"User Details"}),(0,r.jsxs)(h.rr,{children:["View detailed information about ",e.firstName," ",e.lastName]})]}),E&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(d.eu,{className:"h-12 w-12",children:[(0,r.jsx)(d.BK,{src:E.profilePictureUrl}),(0,r.jsxs)(d.q5,{children:[E.firstName[0],E.lastName[0]]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-semibold",children:[E.firstName," ",E.lastName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["@",E.userName]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Email"}),(0,r.jsx)("p",{className:"text-gray-600",children:E.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Phone"}),(0,r.jsx)("p",{className:"text-gray-600",children:E.phoneNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"User Type"}),(0,r.jsx)("p",{className:"text-gray-600",children:E.userType})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Status"}),(0,r.jsx)("p",{className:"text-gray-600",children:E.isActive?"Active":"Inactive"})]})]})]})]})]}),(0,r.jsxs)(u.l6,{onValueChange:s=>I(e.id,s),children:[(0,r.jsx)(u.bq,{className:"w-32",children:(0,r.jsx)(u.yv,{placeholder:"Status"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"Active",children:"Activate"}),(0,r.jsx)(u.eb,{value:"Inactive",children:"Deactivate"}),(0,r.jsx)(u.eb,{value:"Suspended",children:"Suspend"})]})]}),(0,r.jsxs)(u.l6,{onValueChange:s=>L(e.id,s),children:[(0,r.jsx)(u.bq,{className:"w-32",children:(0,r.jsx)(u.yv,{placeholder:"Verify"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"Verified",children:"Verify"}),(0,r.jsx)(u.eb,{value:"Pending",children:"Pending"}),(0,r.jsx)(u.eb,{value:"Rejected",children:"Reject"})]})]})]})})]},e.id))})]}),!a&&0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"No users found matching your criteria."}),(0,r.jsx)(n.$,{variant:"outline",onClick:P,className:"mt-4",children:"Clear Filters"})]})]})]})]})})}},4011:(e,s,a)=>{"use strict";a.d(s,{H4:()=>S,_V:()=>A,bL:()=>b});var r=a(2115),t=a(6081),n=a(9033),l=a(2712),i=a(3655),c=a(1414);function d(){return()=>{}}var u=a(5155),o="Avatar",[h,x]=(0,t.A)(o),[j,m]=h(o),v=r.forwardRef((e,s)=>{let{__scopeAvatar:a,...t}=e,[n,l]=r.useState("idle");return(0,u.jsx)(j,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,u.jsx)(i.sG.span,{...t,ref:s})})});v.displayName=o;var p="AvatarImage",g=r.forwardRef((e,s)=>{let{__scopeAvatar:a,src:t,onLoadingStatusChange:o=()=>{},...h}=e,x=m(p,a),j=function(e,s){let{referrerPolicy:a,crossOrigin:t}=s,n=(0,c.useSyncExternalStore)(d,()=>!0,()=>!1),i=r.useRef(null),u=n?(i.current||(i.current=new window.Image),i.current):null,[o,h]=r.useState(()=>y(u,e));return(0,l.N)(()=>{h(y(u,e))},[u,e]),(0,l.N)(()=>{let e=e=>()=>{h(e)};if(!u)return;let s=e("loaded"),r=e("error");return u.addEventListener("load",s),u.addEventListener("error",r),a&&(u.referrerPolicy=a),"string"==typeof t&&(u.crossOrigin=t),()=>{u.removeEventListener("load",s),u.removeEventListener("error",r)}},[u,t,a]),o}(t,h),v=(0,n.c)(e=>{o(e),x.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==j&&v(j)},[j,v]),"loaded"===j?(0,u.jsx)(i.sG.img,{...h,ref:s,src:t}):null});g.displayName=p;var f="AvatarFallback",N=r.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:t,...n}=e,l=m(f,a),[c,d]=r.useState(void 0===t);return r.useEffect(()=>{if(void 0!==t){let e=window.setTimeout(()=>d(!0),t);return()=>window.clearTimeout(e)}},[t]),c&&"loaded"!==l.imageLoadingStatus?(0,u.jsx)(i.sG.span,{...n,ref:s}):null});function y(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}N.displayName=f;var b=v,A=g,S=N},5967:(e,s,a)=>{Promise.resolve().then(a.bind(a,2899))},7580:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},8883:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9420:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[352,583,433,171,610,732,441,684,358],()=>s(5967)),_N_E=e.O()}]);