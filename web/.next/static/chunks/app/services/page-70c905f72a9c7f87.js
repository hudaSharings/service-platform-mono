(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{968:(e,a,t)=>{"use strict";t.d(a,{b:()=>n});var s=t(2115),r=t(3655),l=t(5155),i=s.forwardRef((e,a)=>(0,l.jsx)(r.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=i},1225:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var s=t(5155),r=t(2115),l=t(285),i=t(6695),n=t(2523),c=t(6126),o=t(9409),d=t(1394),u=t(8564),x=t(7924),m=t(4516),h=t(5868),g=t(4706),p=t(6671),v=t(5494),y=t(4165),f=t(5057),j=t(8539);function b(){let[e,a]=(0,r.useState)([]),[t,b]=(0,r.useState)([]),[N,w]=(0,r.useState)(!0),[k,C]=(0,r.useState)(""),[T,S]=(0,r.useState)("all"),[R,A]=(0,r.useState)(""),[P,D]=(0,r.useState)(""),[M,q]=(0,r.useState)(""),[F,z]=(0,r.useState)(null),[$,E]=(0,r.useState)({contractType:"Hourly",startDate:"",startTime:"",duration:1,specialRequirements:""}),[H,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>{_(),I()},[]);let _=async()=>{try{let e=await g.F.getCategories();b(e)}catch(e){console.error("Error fetching categories:",e),p.o.error("Failed to load categories")}},I=async()=>{w(!0);try{let e={};k&&(e.search=k),T&&"all"!==T&&(e.categoryId=T),R&&(e.location=R),P&&(e.minPrice=P),M&&(e.maxPrice=M);let t=await g.F.getServices(1,20,e);a(t.services)}catch(e){console.error("Error fetching services:",e),p.o.error("Failed to load services")}finally{w(!1)}},J=()=>{C(""),S("all"),A(""),D(""),q(""),I()},W=e=>Array.from({length:5},(a,t)=>(0,s.jsx)(u.A,{className:"h-4 w-4 ".concat(t<Math.floor(e)?"fill-yellow-400 text-yellow-400":"text-gray-300")},t)),B=e=>e.fixedPrice?"$".concat(e.fixedPrice):"$".concat(e.hourlyRate,"/hr"),V=e=>{z(e),E({contractType:e.fixedPrice?"FixedPrice":"Hourly",startDate:"",startTime:"",duration:1,specialRequirements:""}),L(!0)},O=async()=>{if(F)try{var e;if(!localStorage.getItem("authToken"))return void p.o.error("Please log in to book a service");let a=0;"FixedPrice"===$.contractType&&F.fixedPrice?a=F.fixedPrice:"Hourly"===$.contractType&&$.duration?a=F.hourlyRate*$.duration:"Weekly"===$.contractType?a=F.weeklyRate:"Monthly"===$.contractType&&(a=F.monthlyRate),F.id,F.providerId,$.contractType,$.startDate,$.startTime,$.duration,$.endDate,$.specialRequirements;let t=new URLSearchParams({serviceId:F.id,contractType:$.contractType,totalAmount:a.toString(),startDate:$.startDate,startTime:$.startTime,duration:(null==(e=$.duration)?void 0:e.toString())||"1",specialRequirements:$.specialRequirements});window.location.href="/payment?".concat(t.toString())}catch(e){console.error("Error creating booking:",e),p.o.error("Failed to create booking")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(v.A,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Find Services"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Discover and book professional services"})]}),(0,s.jsxs)(i.Zp,{className:"mb-8",children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-5 w-5"}),"Search & Filters"]})}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(n.p,{placeholder:"Search services...",value:k,onChange:e=>C(e.target.value),className:"pl-10"})]}),(0,s.jsxs)(o.l6,{value:T,onValueChange:S,children:[(0,s.jsx)(o.bq,{children:(0,s.jsx)(o.yv,{placeholder:"All Categories"})}),(0,s.jsxs)(o.gC,{children:[(0,s.jsx)(o.eb,{value:"all",children:"All Categories"}),t.map(e=>(0,s.jsx)(o.eb,{value:e.id,children:e.name},e.id))]})]}),(0,s.jsx)(n.p,{placeholder:"Location",value:R,onChange:e=>A(e.target.value)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.p,{placeholder:"Min Price",type:"number",value:P,onChange:e=>D(e.target.value)}),(0,s.jsx)(n.p,{placeholder:"Max Price",type:"number",value:M,onChange:e=>q(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.$,{onClick:()=>{I()},className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"Search"]}),(0,s.jsx)(l.$,{variant:"outline",onClick:J,children:"Clear Filters"})]})]})]}),N?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading services..."})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>(0,s.jsxs)(i.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(i.aR,{className:"pb-3",children:[(0,s.jsx)("div",{className:"aspect-video bg-gray-200 rounded-lg mb-3 overflow-hidden",children:e.images&&e.images.length>0?(0,s.jsx)("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(i.ZB,{className:"text-lg mb-1",children:e.title}),(0,s.jsx)(i.BT,{className:"line-clamp-2",children:e.description})]})})]}),(0,s.jsx)(i.Wu,{className:"pt-0",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(d.eu,{className:"h-8 w-8",children:[(0,s.jsx)(d.BK,{src:e.providerAvatar}),(0,s.jsx)(d.q5,{children:e.providerName.split(" ").map(e=>e[0]).join("")})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.providerName}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[W(e.rating),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.reviewCount,")"]})]})]}),e.isVerified&&(0,s.jsx)(c.E,{variant:"secondary",className:"text-xs",children:"Verified"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),e.location]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 font-semibold text-green-600",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),B(e)]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(c.E,{variant:"outline",children:e.categoryName}),(0,s.jsx)(l.$,{size:"sm",onClick:()=>V(e),className:"text-xs",children:"Book Now"})]})]})})]},e.id))}),!N&&0===e.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-600",children:"No services found matching your criteria."}),(0,s.jsx)(l.$,{variant:"outline",onClick:J,className:"mt-4",children:"Clear Filters"})]})]}),(0,s.jsx)(y.lG,{open:H,onOpenChange:L,children:(0,s.jsxs)(y.Cf,{className:"max-w-md",children:[(0,s.jsxs)(y.c7,{children:[(0,s.jsx)(y.L3,{children:"Book Service"}),(0,s.jsx)(y.rr,{children:null==F?void 0:F.title})]}),F&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{children:"Contract Type"}),(0,s.jsxs)(o.l6,{value:$.contractType,onValueChange:e=>E(a=>({...a,contractType:e})),children:[(0,s.jsx)(o.bq,{children:(0,s.jsx)(o.yv,{})}),(0,s.jsx)(o.gC,{children:(e=>{let a=[];return e.hourlyRate>0&&a.push({value:"Hourly",label:"Hourly - $".concat(e.hourlyRate,"/hr")}),e.weeklyRate>0&&a.push({value:"Weekly",label:"Weekly - $".concat(e.weeklyRate,"/week")}),e.monthlyRate>0&&a.push({value:"Monthly",label:"Monthly - $".concat(e.monthlyRate,"/month")}),e.fixedPrice&&a.push({value:"FixedPrice",label:"Fixed Price - $".concat(e.fixedPrice)}),a})(F).map(e=>(0,s.jsx)(o.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{children:"Start Date"}),(0,s.jsx)(n.p,{type:"date",value:$.startDate,onChange:e=>E(a=>({...a,startDate:e.target.value})),min:new Date().toISOString().split("T")[0]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{children:"Start Time"}),(0,s.jsx)(n.p,{type:"time",value:$.startTime,onChange:e=>E(a=>({...a,startTime:e.target.value}))})]})]}),"Hourly"===$.contractType&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{children:"Duration (hours)"}),(0,s.jsx)(n.p,{type:"number",min:"1",value:$.duration,onChange:e=>E(a=>({...a,duration:parseInt(e.target.value)||1}))})]}),("Weekly"===$.contractType||"Monthly"===$.contractType)&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{children:"End Date"}),(0,s.jsx)(n.p,{type:"date",value:$.endDate,onChange:e=>E(a=>({...a,endDate:e.target.value})),min:$.startDate})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{children:"Special Requirements (Optional)"}),(0,s.jsx)(j.T,{placeholder:"Any special requirements or notes...",value:$.specialRequirements,onChange:e=>E(a=>({...a,specialRequirements:e.target.value})),rows:3})]}),(0,s.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-medium",children:"Total Amount:"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$","FixedPrice"===$.contractType&&F.fixedPrice?F.fixedPrice:"Hourly"===$.contractType&&$.duration?F.hourlyRate*$.duration:"Weekly"===$.contractType?F.weeklyRate:"Monthly"===$.contractType?F.monthlyRate:0]})]})}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,s.jsx)(l.$,{variant:"outline",onClick:()=>L(!1),className:"flex-1",children:"Cancel"}),(0,s.jsx)(l.$,{onClick:O,className:"flex-1",disabled:!$.startDate||!$.startTime,children:"Proceed to Payment"})]})]})]})})]})}},3228:(e,a,t)=>{Promise.resolve().then(t.bind(t,1225))},4165:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>u,L3:()=>m,c7:()=>x,lG:()=>n,rr:()=>h,zM:()=>c});var s=t(5155);t(2115);var r=t(5452),l=t(4416),i=t(9434);function n(e){let{...a}=e;return(0,s.jsx)(r.bL,{"data-slot":"dialog",...a})}function c(e){let{...a}=e;return(0,s.jsx)(r.l9,{"data-slot":"dialog-trigger",...a})}function o(e){let{...a}=e;return(0,s.jsx)(r.ZL,{"data-slot":"dialog-portal",...a})}function d(e){let{className:a,...t}=e;return(0,s.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function u(e){let{className:a,children:t,showCloseButton:n=!0,...c}=e;return(0,s.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,s.jsx)(d,{}),(0,s.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...c,children:[t,n&&(0,s.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function m(e){let{className:a,...t}=e;return(0,s.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",a),...t})}function h(e){let{className:a,...t}=e;return(0,s.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",a),...t})}},4516:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5868:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6126:(e,a,t)=>{"use strict";t.d(a,{E:()=>c});var s=t(5155);t(2115);var r=t(9708),l=t(2085),i=t(9434);let n=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:a,variant:t,asChild:l=!1,...c}=e,o=l?r.DX:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(n({variant:t}),a),...c})}},7340:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},8539:(e,a,t)=>{"use strict";t.d(a,{T:()=>l});var s=t(5155);t(2115);var r=t(9434);function l(e){let{className:a,...t}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...t})}},8564:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[352,583,433,874,171,671,610,823,964,216,441,684,358],()=>a(3228)),_N_E=e.O()}]);